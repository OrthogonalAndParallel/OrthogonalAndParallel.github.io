import{_ as e,c as n,a as s,o as a}from"./app-DUomSOUZ.js";const l={};function r(i,t){return a(),n("div",null,t[0]||(t[0]=[s(`<h2 id="迭代" tabindex="-1"><a class="header-anchor" href="#迭代"><span>迭代</span></a></h2><table><thead><tr><th style="text-align:center;">日期</th><th style="text-align:center;">内容</th><th style="text-align:center;">云文档</th></tr></thead><tbody><tr><td style="text-align:center;">20251115</td><td style="text-align:center;">支持补填</td><td style="text-align:center;"><a href="https://docs.yonyoucloud.com/l/923856506a96?f=2321053129468280833" target="_blank" rel="noopener noreferrer">制造云-质量管理-检验单OpenAPI-补填.docx</a></td></tr></tbody></table><h2 id="实体关系" tabindex="-1"><a class="header-anchor" href="#实体关系"><span>实体关系</span></a></h2><img src="https://www.plantuml.com/plantuml/svg/dLLDQzj04BthLmWV0pdqMXB8DVVUnKgxf6fNij6k2e4UKgYT5kBQ45n2cvQOEYM4OALGS3x9dyckbN_HbMGxkv9MbdlJCE_DnvkPrHQX8A2XXmq70q9C_cllwVo0TGV6uijyQJfDYCpDPoVhJMRuU7Z6Hd_PwEEqtvdU7lAVn_peo_IsO-WS8jfhu4ECNkssafWPWd-zPdUzAf9BB4AR0TX92pcAMFytwqMiVSfk3fVKydZLZJz7JyFhwVUn0kKd4tvy4OylsVr0wV_nOSW_H8PiY19QRotN9otaKCkbo5i8CekSGmjXVGW2QBq3E4oBFjbd-nssTvT7peAcE0iuD0GOxpxBNIIy2U6EXtng1OY4c2OgTWUY2lPfnCRVijPB-YdHGL50Df86WDV2o9hFFdKcWy_1vf8isbnKdQMGvs78HkKcv80rfgzq9nk2RWEuBIP6jg6WopuNvg5-wDaeI67dV70vr-ccBoIUhuLaP6j1cc7W8Dl5M13ZQ28qu3zECnpl9bcgE9PToeg71u9O575sO2kUrlyUrP9p0ZQXWTXP1SVQ5wpznv2UaCQBXhcslcus_4RPYUKX9UTP1Lpb-Qd3LZfKRa_NHqt6yeRqroAZIj8LLDPkh2wTVg-g6Vh3stWlI5gPYj2LOzSQO74pYzbgWVG2LHQZFfWIL5c7BUH3yHl-1m00" alt=""><h2 id="api文档" tabindex="-1"><a class="header-anchor" href="#api文档"><span>API文档</span></a></h2><h3 id="补填" tabindex="-1"><a class="header-anchor" href="#补填"><span>补填</span></a></h3><p><strong>接口配置</strong></p><table><thead><tr><th style="text-align:center;">项目</th><th style="text-align:center;">值</th></tr></thead><tbody><tr><td style="text-align:center;">API名称</td><td style="text-align:center;">检验单补填</td></tr><tr><td style="text-align:center;">API分类</td><td style="text-align:center;">检验单</td></tr><tr><td style="text-align:center;">应用场景</td><td style="text-align:center;">开放API</td></tr><tr><td style="text-align:center;">简单认证</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">是否涉秘</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">幂等性</td><td style="text-align:center;">开启</td></tr><tr><td style="text-align:center;">后端服务类型</td><td style="text-align:center;">REST</td></tr><tr><td style="text-align:center;">鉴权方式</td><td style="text-align:center;">友互通用户鉴权</td></tr><tr><td style="text-align:center;">用户身份</td><td style="text-align:center;">透穿</td></tr><tr><td style="text-align:center;">API描述</td><td style="text-align:center;">检验单的补填接口，用于已审批的检验单补充非关键项目的检验信息</td></tr><tr><td style="text-align:center;">超时时间</td><td style="text-align:center;">30s</td></tr></tbody></table><p><strong>接口入参</strong></p><table><thead><tr><th style="text-align:center;">名称</th><th style="text-align:center;">类型</th><th style="text-align:center;">描述</th><th style="text-align:center;">必填</th></tr></thead><tbody><tr><td style="text-align:center;">data</td><td style="text-align:center;">object</td><td style="text-align:center;">主数据对象</td><td style="text-align:center;">是</td></tr><tr><td style="text-align:center;">id</td><td style="text-align:center;">string</td><td style="text-align:center;">检验单id <br>示例: 1539608448409796618</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">code</td><td style="text-align:center;">string</td><td style="text-align:center;">检验单号：id、code任选一个即可，同时传入id为准 <br>示例: LLJY202301010001</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">qms_qit_<br>incominspectorder<br>_bList</td><td style="text-align:center;">object</td><td style="text-align:center;">检验信息</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">id</td><td style="text-align:center;">string</td><td style="text-align:center;">检验信息行id <br>示例: 1500425710867054598</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">inspectValue</td><td style="text-align:center;">number<br>小数位数:0,<br>最大长度:28</td><td style="text-align:center;">检验值：检验值有公式时不可修改<br>示例: 2</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">qualifiedNumber</td><td style="text-align:center;">number<br>小数位数:0,<br>最大长度:28</td><td style="text-align:center;">单项合格件数：合格件数+不合格件数不超过检验项目的取样数量<br>示例: 1</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">unQualifiedNumber</td><td style="text-align:center;">number<br>小数位数:0,<br>最大长度:28</td><td style="text-align:center;">单项不合格件数：合格件数+不合格件数不超过检验项目的取样数量<br>示例: 1</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">judgmentResult</td><td style="text-align:center;">number<br>小数位数:0,<br>最大长度:28</td><td style="text-align:center;">单项判定结果：1-合格、2-不合格<br>示例: 1</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">qms_qit_<br>inspectorder_sim<br>_recordList_fixed2</td><td style="text-align:center;">object</td><td style="text-align:center;">样本记录</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">sampleCode</td><td style="text-align:center;">string</td><td style="text-align:center;">样本号</td><td style="text-align:center;">否</td></tr><tr><td style="text-align:center;">inspectValue</td><td style="text-align:center;">string</td><td style="text-align:center;">样本检验值</td><td style="text-align:center;">否</td></tr></tbody></table><h2 id="后端实现" tabindex="-1"><a class="header-anchor" href="#后端实现"><span>后端实现</span></a></h2><p><strong>类图</strong></p><img src="https://www.plantuml.com/plantuml/svg/bPD1JiCm44NtFeMNL2AzGAkgG1TuWH8f9vWu4p1rxMWypGQuEmOL6gMkswwIwFtvCvDlhmC3yNvdXNAXHyqbjKWLUOqXU9BBpwAGOrJsw1ugLSE0DT9WD8eybaMn-dDuUaEzLQxp_mt4b6o0OTn-Fh-n-FS3RouzzapDMyEkjtYiDab-nUnJ8tNMABl7r4P04vX0izGMGf39CCKfIyJraVshvZnRNCZIvEX2l42_h9cCUxsNPVCUbIlP6MkLktkCZn_rXhriuljC3Dwq1reHFeDhBIPaNp4eHkeWxfKTxeBkiE58TSK1o7YUf2pMwDfu2xy1" alt=""><p><strong>代码</strong></p><ul><li>InspectOrderOpenAPISaveService</li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>// 补填</span></span>
<span class="line"><span>fillIn(BillDataDto bill) {</span></span>
<span class="line"><span>    fillInPreHandle(bill);</span></span>
<span class="line"><span>    Map&lt;String, Object&gt; result = (Map&lt;String, Object&gt;) apiImportCommandService.singleSave4Api(bill);</span></span>
<span class="line"><span>    dataPostHandle(result);</span></span>
<span class="line"><span>    return result;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// 补填前处理</span></span>
<span class="line"><span>fillInPreHandle(BillDataDto bill) {</span></span>
<span class="line"><span>    + 获取检验单</span></span>
<span class="line"><span>    + 处理检验信息 inspectCheckInfoDataProcessor.process();</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>InspectCheckInfoProcessor</li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>process () {</span></span>
<span class="line"><span>    + 判断单据状态+是否关键项目 非已审批||关键项目直接return</span></span>
<span class="line"><span>    + 补充检验值 // （原先代码）</span></span>
<span class="line"><span>    + 补充单项合格数+不合格数 //（原先代码）</span></span>
<span class="line"><span>    + 触发判定 //（原先代码）</span></span>
<span class="line"><span>    + inspectCheckInfoSampleDataProcessor.process(checkInfoObj, checkInfoMap);</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>inspectCheckInfoSampleDataProcessor</li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>process () {</span></span>
<span class="line"><span>    + 补充样本记录 //（原先代码）</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20)]))}const c=e(l,[["render",r],["__file","index.html.vue"]]),p=JSON.parse('{"path":"/%E7%94%A8%E5%8F%8B/20251115-%E6%A3%80%E9%AA%8C%E5%8D%95OpenAPI/","title":"20251115-检验单OpenAPI","lang":"zh-CN","frontmatter":{"title":"20251115-检验单OpenAPI","createTime":"2025/07/22 13:30:44","permalink":"/用友/20251115-检验单OpenAPI/","description":"迭代 实体关系 API文档 补填 接口配置 接口入参 后端实现 类图 代码 InspectOrderOpenAPISaveService InspectCheckInfoProcessor inspectCheckInfoSampleDataProcessor","head":[["meta",{"property":"og:url","content":"https://orthogonalandparallel.github.io/%E7%94%A8%E5%8F%8B/20251115-%E6%A3%80%E9%AA%8C%E5%8D%95OpenAPI/"}],["meta",{"property":"og:site_name","content":"万里任禅游"}],["meta",{"property":"og:title","content":"20251115-检验单OpenAPI"}],["meta",{"property":"og:description","content":"迭代 实体关系 API文档 补填 接口配置 接口入参 后端实现 类图 代码 InspectOrderOpenAPISaveService InspectCheckInfoProcessor inspectCheckInfoSampleDataProcessor"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-19T03:44:41.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-19T03:44:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"20251115-检验单OpenAPI\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-09-19T03:44:41.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":3.67,"words":1100},"git":{"updatedTime":1758253481000,"contributors":[{"name":"靳琛","email":"jinchenj@yonyou.com","commits":1,"avatar":"https://avatars.githubusercontent.com/靳琛?v=4","url":"https://github.com/靳琛"}]},"autoDesc":true,"filePathRelative":"笔记/用友/BIP/制造云/质量管理/设计/20251115-检验单OpenAPI.md","categoryList":[{"id":"7051dc","sort":10000,"name":"笔记"},{"id":"01ffd5","sort":10001,"name":"用友"},{"id":"b4ff1c","sort":10002,"name":"BIP"},{"id":"86a043","sort":10006,"name":"制造云"},{"id":"a13c9f","sort":10008,"name":"质量管理"},{"id":"c01821","sort":10016,"name":"设计"}],"bulletin":false}');export{c as comp,p as data};
